[Unit]
Description=YARN Nodemanager
After=network.target
After=systemd-user-sessions.service

[Service]
User=yarn
Type=forking
Restart=always
EnvironmentFile=/etc/default/hadoop-systemd
EnvironmentFile=/etc/default/hadoop-yarn-nodemanager-systemd
EnvironmentFile=/etc/profile.d/java-systemd.sh
ExecStartPre=/bin/install -d -m 0755 -o yarn -g hadoop /var/run/hadoop-yarn
ExecStart=/usr/lib/hadoop-yarn/sbin/yarn-daemon.sh --config /etc/hadoop/conf start nodemanager
ExecStop=/usr/lib/hadoop-yarn/sbin/yarn-daemon.sh --config /etc/hadoop/conf stop nodemanager
SyslogIdentifier=yarn-nodemanager
[Install]
WantedBy=multi-user.target
